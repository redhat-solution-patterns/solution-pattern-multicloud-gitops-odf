<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Solution Pattern: Name Template :: Solution Patterns for Cloud Native Architectures</title>
    <link rel="canonical" href="https://redhat-solution-patterns.github.io/solution-patterns/solution-pattern-multicloud-gitops-odf/03-demo.html">
    <link rel="prev" href="02-architecture.html">
    <meta name="generator" content="Antora 3.0.0">
    <link rel="stylesheet" href="../_/css/site.css">
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-JSMWYJ1T9W"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-JSMWYJ1T9W');
</script>  </head>
  <body class="article">
<header class="header">
  <nav class="navbar">
    <div class="navbar-brand">
      <a class="navbar-item" href="https://redhat.com" target="_blank"><img
          src="../_/img/logo.png" height="40px" alt="Cloud Native Architecture Solution Patterns"></a>
      <a class="navbar-item" style="font-size: 24px; color: white" href="https://redhat-solution-patterns.github.io/solution-patterns">Solution Patterns for Cloud Native Architectures</a>
      <button class="navbar-burger" data-target="topbar-nav">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
    <div id="topbar-nav" class="navbar-menu">
      <div class="navbar-end">

       
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Solution Patterns</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="#">Adopt Change Data Capture for <br/>stack modernization</a>
            <a class="navbar-item" href="#">Edge-to-Cloud Pipelines</a>     <a class="navbar-item" href="#">Event driven architecture</a>
          </div>
        </div>

        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Other</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="https://redhat-gitops-patterns.io/">GitOps Solution Patterns</a>
            <a class="navbar-item" href="https://hybrid-cloud-patterns.io/">Hybrid Cloud Solution Patterns</a>
          </div>
        </div>

        <a class="navbar-item" target="_blank" href="https://www.redhat.com/en/products/middleware">Red Hat Application Services</a>

        <a class="navbar-item" target="_blank" href="https://developers.redhat.com/middleware">Learn more</a>

      </div>
    </div>
  </nav>
</header>
<div class="body">
<div class="nav-container" data-component="solution-pattern-multicloud-gitops-odf" data-version="master">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-menu is-active" data-panel="menu">
  <nav class="nav-menu">
    <h3 class="title"><a href="index.html" class=" query-params-link">MultiCloud GitOps with ODF</a></h3>
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="index.html">1. Home page</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="index.html#use-cases">1.1 Use cases</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="01-pattern.html#_the_story_behind_this_solution_pattern">1.2 The story behind this solution pattern</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="01-pattern.html#_the_solution">1.3 The solution</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="02-architecture.html">2. Architecture</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="02-architecture.html#tech_stack">2.1. Technology stack</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="02-architecture.html#in_depth">2.2. An in-depth look at the solution&#8217;s architecture</a>
  </li>
</ul>
  </li>
  <li class="nav-item is-current-page" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="03-demo.html">3. See the Solution in Action</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="#_demonstration">3.1. Demonstration</a>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="#_run_the_demonstration">3.2. Run this demonstration</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="#_before_getting_started">3.3. Pre-requisites</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="#_installing_the_demo">3.4. Installing the demo</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="#_walkthrough_guide">3.5. Walkthrough guide</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="https://redhat-solution-patterns.github.io/">4. Other Red Hat Solution Patterns</a>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="nav-panel-explore" data-panel="explore">
  <div class="context">
    <span class="title">MultiCloud GitOps with ODF</span>
    <span class="version">master</span>
  </div>
  <ul class="components">
    <li class="component is-current">
      <span class="title">MultiCloud GitOps with ODF</span>
      <ul class="versions">
        <li class="version is-current">
          <a href="index.html">master</a>
        </li>
      </ul>
    </li>
  </ul>
</div>
    </div>
  </aside>
</div>
<main class="article">
<div class="toolbar" role="navigation">
<button class="nav-toggle"></button>
  <a href="index.html" class="home-link"></a>
<nav class="breadcrumbs" aria-label="breadcrumbs">
  <ul>
    <li><a href="index.html">MultiCloud GitOps with ODF</a></li>
    <li><a href="03-demo.html">3. See the Solution in Action</a></li>
  </ul>
</nav>
  <div class="edit-this-page"><a href="https://github.com/redhat-solution-patterns/solution-pattern-multicloud-gitops-odf/edit/main/documentation/modules/ROOT/pages/03-demo.adoc">Edit this Page</a></div>
  </div>
  <div class="content">
<article class="doc">
<h1 class="page">Solution Pattern: Name Template</h1>
<h1 id="_see_the_solution_in_action" class="sect0"><a class="anchor" href="#_see_the_solution_in_action"></a><a class="link" href="#_see_the_solution_in_action">See the Solution in Action</a></h1>
<div class="sect1">
<h2 id="_demonstration"><a class="anchor" href="#_demonstration"></a><a class="link" href="#_demonstration">1. Demonstration</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>Demo is split into two parts:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Bootstrapping ODF Multicloud GitOps Part 1 : This video demonstrates Hub Cluster setup, ArgoCD deployment and import of the existing openshift clusters. Once clusters are imported, these managed clusters will be managed by RedHat ACM.</p>
</li>
<li>
<p>Bootstrapping ODF Mutlicloud GitOps Part 2 - AWS, GCP and Azure : This video demonstrates ODF installation on Hub as well as Managed clusters and RedHat Quay installation on the Hub Cluster.</p>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="demo-video"><a class="anchor" href="#demo-video"></a><a class="link" href="#demo-video">1.1. Watch a demonstration</a></h3>
<div class="paragraph">
<p>Bootstrapping ODF Multicloud GitOps Part 1</p>
</div>
<div class="videoblock">
<div class="content">
<iframe width="800" height="480" src="https://www.youtube.com/embed/vLgpsfsA-9k?rel=0" frameborder="0" allowfullscreen></iframe>
</div>
</div>
<div class="paragraph">
<p>Bootstrapping ODF Mutlicloud GitOps Part 2 - AWS, GCP and Azure</p>
</div>
<div class="videoblock">
<div class="content">
<iframe width="800" height="480" src="https://www.youtube.com/embed/Tl0-3Xqgu84?rel=0" frameborder="0" allowfullscreen></iframe>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_run_the_demonstration"><a class="anchor" href="#_run_the_demonstration"></a><a class="link" href="#_run_the_demonstration">2. Run the demonstration</a></h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_before_getting_started"><a class="anchor" href="#_before_getting_started"></a><a class="link" href="#_before_getting_started">2.1. Before getting started</a></h3>
<div class="paragraph">
<p>To run this demo, we will need the following:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>An Openshift cluster to be used as Hub Cluster(We are using Openshift Cluster deployed on AWS).</p>
</li>
<li>
<p>A second OpenShift cluster to be imported and managed by Hub Cluster(Cluster can be in GCP or Azure).</p>
</li>
<li>
<p>Helm</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_installing_the_demo"><a class="anchor" href="#_installing_the_demo"></a><a class="link" href="#_installing_the_demo">2.2. Installing the demo</a></h3>
<div class="paragraph">
<p>We will need the following tools to deploy the demo:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>make</p>
</li>
<li>
<p>sh</p>
</li>
<li>
<p>oc</p>
</li>
<li>
<p>git</p>
</li>
<li>
<p>ansible</p>
</li>
<li>
<p>kubernetes.core collection for ansible</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>To check if you have the cli tools, you can open your terminal and use following commands:</p>
</div>
<div class="listingblock console-input">
<div class="content">
<pre class="highlightjs highlight"><code class="language-none hljs">oc version
make --version
git version
ansible --version
ansible-galaxy --version
ansible-galaxy collection list #the list should include kubernetes.core</code></pre>
</div>
</div>
<div class="paragraph">
<p>If you can&#8217;t see <code>kubernetes.core</code> collection listed, you can install it with <code>ansible-galaxy</code>:</p>
</div>
<div class="listingblock console-input">
<div class="content">
<pre class="highlightjs highlight"><code class="language-none hljs">$ ansible-galaxy collection install kubernetes.core</code></pre>
</div>
</div>
<div class="paragraph">
<p>Detailed instructions to run the demo:</p>
</div>
<div class="paragraph">
<p>Below instructions are split into two main parts: 1. Setup Hub Cluster in Openshift cluster running in AWS. 2. Import Openshift cluster running in Azure to be managed by RedHat ACM in Hub Cluster.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Fork <a href="https://github.com/gmidha/multicloud-gitops/tree/odf" class="bare">https://github.com/gmidha/multicloud-gitops/tree/odf</a> on GitHub. Code resides in odf branch</p>
</li>
<li>
<p>Clone the forked copy of the above repo</p>
<div class="listingblock console-input">
<div class="content">
<pre class="highlightjs highlight"><code class="language-none hljs">git clone git@github.com:{username}/multicloud-gitops.git</code></pre>
</div>
</div>
</li>
<li>
<p>Change into directory multicloud-gitops and ensure that you are in odf branch</p>
<div class="listingblock console-input">
<div class="content">
<pre class="highlightjs highlight"><code class="language-none hljs">cd multicloud-gitops
git checkout odf</code></pre>
</div>
</div>
</li>
<li>
<p>Login into Openshift cluster using oc login or exporting the KUBECONFIG.</p>
<div class="listingblock console-input">
<div class="content">
<pre class="highlightjs highlight"><code class="language-none hljs">oc login</code></pre>
</div>
</div>
</li>
<li>
<p>Apply changes to the cluster using below command</p>
<div class="listingblock console-input">
<div class="content">
<pre class="highlightjs highlight"><code class="language-none hljs">make install</code></pre>
</div>
</div>
</li>
<li>
<p>After 5 minutes on completion of above command, login into Openshift UI using a web browser and check the installed operators. Following Operators will be installed:</p>
<div class="ulist">
<ul>
<li>
<p>RedHat ACM</p>
</li>
<li>
<p>RedHat ODF</p>
</li>
<li>
<p>RedHat Openshift GitOps</p>
</li>
<li>
<p>RedHat Quay</p>
<div class="imageblock">
<div class="content">
<a class="image" href="Operators.png" target="_blank" rel="noopener"><img src="_images/Operators.png" alt="Operators" width="100%"></a>
</div>
</div>
</li>
</ul>
</div>
</li>
<li>
<p>Using above steps our Hub Cluster setup has been done, we will be importing an Openshift cluster running in Azure cloud.</p>
</li>
<li>
<p>Using the below command get the HOST for RedHat ACM and open it in a web browser.</p>
<div class="listingblock console-input">
<div class="content">
<pre class="highlightjs highlight"><code class="language-none hljs">oc get route -n open-cluster-management</code></pre>
</div>
</div>
<div class="imageblock">
<div class="content">
<a class="image" href="RHACM_Host.png" target="_blank" rel="noopener"><img src="_images/RHACM_Host.png" alt="RHACM Host" width="100%"></a>
</div>
</div>
<div class="imageblock">
<div class="content">
<a class="image" href="RHACM_UI.png" target="_blank" rel="noopener"><img src="_images/RHACM_UI.png" alt="RHACM UI" width="100%"></a>
</div>
</div>
</li>
<li>
<p>Now in RedHat ACM UI, under clusters view click on "Import Cluster" and enter the following values in the corresponding fields:</p>
<div class="ulist">
<ul>
<li>
<p>Name: azure-cluster</p>
</li>
<li>
<p>Additional Labels: clusterGroup=azure</p>
</li>
<li>
<p>Click on "Save import and generate code"</p>
<div class="imageblock">
<div class="content">
<a class="image" href="RHACM_Import.png" target="_blank" rel="noopener"><img src="_images/RHACM_Import.png" alt="RHACM Import" width="100%"></a>
</div>
</div>
</li>
</ul>
</div>
</li>
<li>
<p>RedHat ACM will generate the command, click on "Copy command" to copy the command.</p>
<div class="imageblock">
<div class="content">
<a class="image" href="RHACM_Copy.png" target="_blank" rel="noopener"><img src="_images/RHACM_Copy.png" alt="RHACM Copy" width="100%"></a>
</div>
</div>
</li>
<li>
<p>Login into Azure Openshift cluster using oc login or exporting the KUBECONFIG in a separate terminal.</p>
</li>
<li>
<p>Run the copied command in the latest terminal where we logged in Azure Openshift cluster. Once executed successfully, it will show the below output.</p>
<div class="imageblock">
<div class="content">
<a class="image" href="Azure_cli.png" target="_blank" rel="noopener"><img src="_images/Azure_cli.png" alt="Azure cli" width="100%"></a>
</div>
</div>
</li>
<li>
<p>Check RedHat ACM UI and Azure Cluster will be marked as ready under clusters.</p>
<div class="imageblock">
<div class="content">
<a class="image" href="Azure_Imported.png" target="_blank" rel="noopener"><img src="_images/Azure_Imported.png" alt="Azure Imported" width="100%"></a>
</div>
</div>
</li>
<li>
<p>We have imported Azure Openshift cluster successfully and it will be managed by RedHat ACM now.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>MultiCloud GitOps Flow:
This flow displays how different components are getting deployed and where are these getting deployed. ArgoCD is a critical component of the architecture. A policy on RedHat ACM ensures all the managed clusters have their own ArgoCD deployed through an Openshift GitOps operator. ArgoCD on a managed cluster uses GitHub repo to deploy the applications.</p>
</div>
<div class="imageblock">
<div class="content">
<a class="image" href="MultiCloudGitOpsflow_1.jpg" target="_blank" rel="noopener"><img src="_images/MultiCloudGitOpsflow_1.jpg" alt="MultiCloudGitOpsflow 1" width="100%"></a>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_walkthrough_guide"><a class="anchor" href="#_walkthrough_guide"></a><a class="link" href="#_walkthrough_guide">2.3. Walkthrough guide</a></h3>
<div class="paragraph">
<p>In a MultiCloud GitOps with ODF pattern, once the installation is done using above instruction we can follow the below steps to walkthrough it.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Our Hub Cluster is running in Openshift cluster in AWS. Login into Openshift using terminal cli and run the below command to get ArgoCD url and password.</p>
<div class="listingblock console-input">
<div class="content">
<pre class="highlightjs highlight"><code class="language-none hljs">oc -n openshift-gitops get route | grep https &amp;&amp; oc -n openshift-gitops extract secrets/openshift-gitops-cluster --to=-</code></pre>
</div>
</div>
</li>
<li>
<p>Using the url and admin password from previous command, we will be able to login into ArgoCD. ArgoCD UI will look like this.</p>
<div class="imageblock">
<div class="content">
<a class="image" href="Hub_ArgoCD_UI.png" target="_blank" rel="noopener"><img src="_images/Hub_ArgoCD_UI.png" alt="Hub ArgoCD UI" width="100%"></a>
</div>
</div>
</li>
<li>
<p>We can click on "multicloud-gitops-hub" application to see all the components that are deployed.</p>
<div class="imageblock">
<div class="content">
<a class="image" href="Hub_ArgoCD_Tree.png" target="_blank" rel="noopener"><img src="_images/Hub_ArgoCD_Tree.png" alt="Hub ArgoCD Tree" width="100%"></a>
</div>
</div>
<div class="paragraph">
<p>1.To validate the components for RedHat ACM were deployed successfully in Hub Cluster, we can use this command and check pods.</p>
</div>
<div class="listingblock console-input">
<div class="content">
<pre class="highlightjs highlight"><code class="language-none hljs">oc get pods -n open-cluster-management</code></pre>
</div>
</div>
</li>
<li>
<p>To get the status of StorageCluster and pods for RedHat ODF, we can use this command.</p>
<div class="listingblock console-input">
<div class="content">
<pre class="highlightjs highlight"><code class="language-none hljs">oc get pods,StorageCluster -n openshift-storage</code></pre>
</div>
</div>
<div class="imageblock">
<div class="content">
<a class="image" href="StorageCluster_Status.png" target="_blank" rel="noopener"><img src="_images/StorageCluster_Status.png" alt="StorageCluster Status" width="100%"></a>
</div>
</div>
</li>
<li>
<p>To see the status of RedHat Quay, we can use this command.</p>
<div class="listingblock console-input">
<div class="content">
<pre class="highlightjs highlight"><code class="language-none hljs">oc get pods,QuayRegistry -n quay-enterprise</code></pre>
</div>
</div>
<div class="imageblock">
<div class="content">
<a class="image" href="Quay_Status.png" target="_blank" rel="noopener"><img src="_images/Quay_Status.png" alt="Quay Status" width="100%"></a>
</div>
</div>
</li>
<li>
<p>Note: If for some reason, all pods are in error state, run "oc delete project quay-enterprise" and sync the application with Replace checkbox selected. It will redeploy RedHat Quay.</p>
</li>
<li>
<p>To get the URL of RedHat Quay, we can use this command. We can use this url for logging into RedHat Quay.</p>
<div class="listingblock console-input">
<div class="content">
<pre class="highlightjs highlight"><code class="language-none hljs">oc get route quay-registry-quay  -n quay-enterprise</code></pre>
</div>
</div>
</li>
<li>
<p>So far we have seen the components deployed in Hub Cluster. Now we will be looking at Openshift Azure Cluster managed by Hub Cluster.</p>
</li>
<li>
<p>Login into Managed cluster using oc login or exporting the KUBECONFIG.</p>
<div class="listingblock console-input">
<div class="content">
<pre class="highlightjs highlight"><code class="language-none hljs">oc login</code></pre>
</div>
</div>
</li>
<li>
<p>Once an Openshift Cluster becomes a managed cluster, we can see the pods in open-cluster-management-agent and open-cluster-management-addon to ensure all the required pods are up and running.</p>
<div class="listingblock console-input">
<div class="content">
<pre class="highlightjs highlight"><code class="language-none hljs">oc get pods -n open-cluster-management-agent</code></pre>
</div>
</div>
<div class="listingblock console-input">
<div class="content">
<pre class="highlightjs highlight"><code class="language-none hljs">oc get pods -n open-cluster-management-agent-addon</code></pre>
</div>
</div>
<div class="imageblock">
<div class="content">
<a class="image" href="OCM_Status.png" target="_blank" rel="noopener"><img src="_images/OCM_Status.png" alt="OCM Status" width="100%"></a>
</div>
</div>
<div class="imageblock">
<div class="content">
<a class="image" href="OCM_addon_Status.png" target="_blank" rel="noopener"><img src="_images/OCM_addon_Status.png" alt="OCM addon Status" width="100%"></a>
</div>
</div>
</li>
<li>
<p>Run the below command to get ArgoCD url and admin&#8217;s password for login.</p>
<div class="listingblock console-input">
<div class="content">
<pre class="highlightjs highlight"><code class="language-none hljs">oc -n openshift-gitops get route | grep https &amp;&amp; oc -n openshift-gitops extract secrets/openshift-gitops-cluster --to=-</code></pre>
</div>
</div>
</li>
<li>
<p>Once logged in into ArgoCD, we will see the application deploy. We can click on the application to see all the compoenents it deployed.</p>
<div class="imageblock">
<div class="content">
<a class="image" href="Azure_Argocd.png" target="_blank" rel="noopener"><img src="_images/Azure_Argocd.png" alt="Azure Argocd" width="100%"></a>
</div>
</div>
<div class="imageblock">
<div class="content">
<a class="image" href="Azure_Argocd_tree.png" target="_blank" rel="noopener"><img src="_images/Azure_Argocd_tree.png" alt="Azure Argocd tree" width="100%"></a>
</div>
</div>
</li>
<li>
<p>Using cli, now we will check the status of ODF pods and Storage Cluster in the Managed cluster. StorageCluster takes 10+ min for deployment.</p>
<div class="listingblock console-input">
<div class="content">
<pre class="highlightjs highlight"><code class="language-none hljs">oc get pods,StorageCluster -n openshift-storage</code></pre>
</div>
</div>
<div class="imageblock">
<div class="content">
<a class="image" href="Azure_Pods_ODF.png" target="_blank" rel="noopener"><img src="_images/Azure_Pods_ODF.png" alt="Azure Pods ODF" width="100%"></a>
</div>
</div>
<div class="imageblock">
<div class="content">
<a class="image" href="Azure_SC_ODF.png" target="_blank" rel="noopener"><img src="_images/Azure_SC_ODF.png" alt="Azure SC ODF" width="100%"></a>
</div>
</div>
</li>
<li>
<p>We can also check the available storageclasses once ODF installation is complete by using this cli.</p>
<div class="listingblock console-input">
<div class="content">
<pre class="highlightjs highlight"><code class="language-none hljs">oc get storageclasses</code></pre>
</div>
</div>
<div class="imageblock">
<div class="content">
<a class="image" href="ODF_Storage_Classes.png" target="_blank" rel="noopener"><img src="_images/ODF_Storage_Classes.png" alt="ODF Storage Classes" width="100%"></a>
</div>
</div>
</li>
<li>
<p>To test the deployment of StorageCluster, we are using an application Image Tool. This application is deployed in image-tool namespace. To check the status of application and get its route and pvc, we will use the following cli commands.</p>
<div class="listingblock console-input">
<div class="content">
<pre class="highlightjs highlight"><code class="language-none hljs">oc get pods -n image-tool</code></pre>
</div>
</div>
<div class="listingblock console-input">
<div class="content">
<pre class="highlightjs highlight"><code class="language-none hljs">oc get route -n image-tool</code></pre>
</div>
</div>
<div class="listingblock console-input">
<div class="content">
<pre class="highlightjs highlight"><code class="language-none hljs">oc get pvc -n image-tool</code></pre>
</div>
</div>
<div class="imageblock">
<div class="content">
<a class="image" href="Image_Tool_po.png" target="_blank" rel="noopener"><img src="_images/Image_Tool_po.png" alt="Image Tool po" width="100%"></a>
</div>
</div>
<div class="imageblock">
<div class="content">
<a class="image" href="Image_Tool_route.png" target="_blank" rel="noopener"><img src="_images/Image_Tool_route.png" alt="Image Tool route" width="200%"></a>
</div>
</div>
<div class="imageblock">
<div class="content">
<a class="image" href="Image_Tool_pvc.png" target="_blank" rel="noopener"><img src="_images/Image_Tool_pvc.png" alt="Image Tool pvc" width="200%"></a>
</div>
</div>
</li>
<li>
<p>Using the above two urls in a web browser, we can use the application which is using above shown PVC to store file objects.</p>
<div class="imageblock">
<div class="content">
<a class="image" href="Image_Tool_UI.png" target="_blank" rel="noopener"><img src="_images/Image_Tool_UI.png" alt="Image Tool UI" width="200%"></a>
</div>
</div>
</li>
<li>
<p>We can upload the files through UI and it will get stored in a persistent volume store.</p>
<div class="imageblock">
<div class="content">
<a class="image" href="Image_Tool_Object.png" target="_blank" rel="noopener"><img src="_images/Image_Tool_Object.png" alt="Image Tool Object" width="200%"></a>
</div>
</div>
</li>
<li>
<p>We have another application nginx as part of Image tool, using the url from routes we can access this application. This application uses the same storage and hence the file uploaded from Image tool will be accessible through Nginx UI.</p>
<div class="imageblock">
<div class="content">
<a class="image" href="Nginx_UI.png" target="_blank" rel="noopener"><img src="_images/Nginx_UI.png" alt="Nginx UI" width="200%"></a>
</div>
</div>
</li>
<li>
<p>We can click on the file shown above and access it.</p>
</li>
</ol>
</div>
</div>
</div>
</div>
<nav class="pagination">
  <span class="prev"><a href="02-architecture.html" class="query-params-link">2. Architecture</a></span>
</nav>
</article>
<aside class="toc sidebar" data-title="Contents" data-levels="3">
  <div class="toc-menu"></div>
</aside>
  </div>
</main>
</div>
<footer class="footer">
  <img
          src="../_/img/app-services-logo.png" height="40px" alt="Cloud Native Architecture Solution Patterns"  href="https://redhat.com" ></a>
</footer><script src="../_/js/vendor/clipboard.js"></script>
<script src="../_/js/site.js"></script>
<script async src="../_/js/vendor/highlight.js"></script>
  </body>
</html>
